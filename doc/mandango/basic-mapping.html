<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Basic Mapping - Documentation - Mandango</title>
        <link rel="stylesheet" href="/css/yui.css">
        <link rel="stylesheet" href="/css/mandango.css">
        <link rel="stylesheet" href="/css/pygments.css">
    </head>
    <body class="yui-skin-sam">
        <div class="wrapper">
            <div id="doc4">
                <div id="hd">
                    <div id="mainHeader" class="clearfix">
                        <h1 class="mainTitle">
                            <a href="/"><img src="/images/logo.png" alt="Mandango" /></a>
                        </h1>
                        <div class="slogan">The easy, powerful and ultrafast ODM for PHP and MongoDB.</div>
                        <ul id="mainNav" class="clearfix">
                                                        
    <li><span><a href="/">Home</a></span></li>
    <li><span><a href="/performance.html">Performance</a></span></li>
    <li><span><a href="/installation.html">Installation</a></span></li>
    <li><span class="current"><a href="/doc/">Documentation</a></span></li>
    <li><span><a href="/development.html">Development</a></span></li>
    <li><span><a href="/blog/">Blog</a></span></li>
    <li><span><a href="/about.html">About</a></span></li>
                        </ul>
                    </div>
                </div>
                <div id="bd">
                    <div class="mainContent">
                            <div class="related">
        <ul>
                            <li class="right"><a href="/doc/mandango/reference-mapping.html">Reference Mapping</a></li>
                                        <li><a href="/doc/mandango/mondator.html">Mondator</a></li>
                    </ul>
    </div>

    <h1>Basic Mapping</h1>

    <p>The mapping is done with the config classes.</p>

<h2>Connection</h2>

<p>You can define explicitly the connection in the documents. Otherwise the
default connection of the mandango will be used:</p>

<div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Model\Article&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// defining explicitly the connection</span>
        <span class="s1">&#39;connection&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;global&#39;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">&#39;Model\Author&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// another explicitly connection</span>
        <span class="s1">&#39;connection&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;local&#39;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">&#39;Model\Category&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// nothing, default connection</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<blockquote class="mandango_blockquote mandango_blockquote_note"><p>
  To specify the connections it is used the connection names that
  are assigned to the Mandango.</p></blockquote>

<h2>Collection</h2>

<p>You can also define explicitly the collection where the documents are saved in,
and if you don't, the <a href="http://en.wikipedia.org/wiki/CamelCase">CamelCase</a> name
of the documents class will be used for that:</p>

<div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Model\Article&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// defining explicitly the connection</span>
        <span class="s1">&#39;collection&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;articles&#39;</span><span class="p">,</span>
        <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<h2>Types</h2>

<p>Mandango has types to allow map data between PHP and Mongo.</p>

<ul>
<li><strong>bin_data</strong></li>
<li><strong>boolean</strong></li>
<li><strong>date</strong></li>
<li><strong>float</strong></li>
<li><strong>integer</strong></li>
<li><strong>raw</strong></li>
<li><strong>serialized</strong></li>
<li><strong>string</strong></li>
</ul>

<p>You can also define custom types. We'll see how later.</p>

<h2>Fields</h2>

<p>The fields are the data of the documents, the same as in Mongo.</p>

<p>To define the fields you have to indicate the type:</p>

<div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Model\Article&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="c1">// as string</span>
            <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
            <span class="c1">// as array</span>
            <span class="s1">&#39;content&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<p>You can define also options in the fields.</p>

<h3>Default Value</h3>

<p>If you want you can use default values:</p>

<div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Model\Article&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;is_active&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<h3>Database Field</h3>

<p>You can change the field in which the data is saved in the database. Thus you
can use a different field name in PHP and Mongo:</p>

<div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Model\Article&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;php_field_name&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;db_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mongo_field_name&#39;</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>


<p>These are the options the Mandango's Core extension accepts, but you can use
more options depending on the extensions you use.</p>

<blockquote class="mandango_blockquote mandango_blockquote_note"><p>
  You can define as fields as you want to take advantage of the Mongo free
  schema. Mandango has been designed thinking in that, and to define lots
  of fields is not a performance problem.</p></blockquote>

                    </div>
                </div>
            </div>
        </div>
        <div id="ft">
            <div class="ft_content">
                <ul class="ft_menu">
                    <li class="item">
                        <h2>Mandango</h2>
                        <ul>
                            <li class="first">
                                <a href="/">Home</a>
                            </li>
                            <li>
                                <a href="/performance.html">Performance</a>
                            </li>
                            <li>
                                <a href="/installation.html">Installation</a>
                            </li>
                            <li>
                                <a href="/doc/">Documentation</a>
                            </li>
                            <li>
                                <a href="/development.html">Development</a>
                            </li>
                            <li>
                                <a href="/blog/">Blog</a>
                            </li>
                            <li>
                                <a href="/about.html">About</a>
                            </li>
                        </ul>
                    </li>
                    <li class="item">
                        <h2>Powered by</h2>
                        <ul>
                            <li class="first">
                               <a href="http://www.php.net">PHP</a>
                            </li>
                            <li>
                                <a href="http://www.mongodb.org">MongoDB</a>
                            </li>
                            <li>
                                <a href="http://www.symfony.com">Symfony</a>
                            </li>
                            <li>
                                <a href="http://git-scm.com">Git</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <div class="feed">
                    <a href="/blog/feed.xml">
                        <img src="/images/feed.png" />
                    </a>
                </div>
            </div>
        </div>
        <a href="http://github.com/mandango"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/images/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-23040635-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
            </body>
</html>
